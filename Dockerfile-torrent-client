FROM alpine:3.20

RUN apk add --no-cache transmission-cli=4.0.5-r2 transmission-daemon=4.0.5-r2 && \
    mkdir -p /downloads && mkdir -p /config && mkdir -p /downloads/incomplete

EXPOSE 9091

VOLUME ["/downloads", "/config"]

ENTRYPOINT ["transmission-daemon", "--foreground", "--config-dir=/config", \
           "--rpc-bind-address=0.0.0.0", \
           "--download-dir=/downloads", \
           "--incomplete-dir=/downloads/incomplete"]
